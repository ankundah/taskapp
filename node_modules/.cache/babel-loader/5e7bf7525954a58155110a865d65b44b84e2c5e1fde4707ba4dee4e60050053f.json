{"ast":null,"code":"import _objectSpread from\"/Users/Thia/Desktop/CLOUDCOMPUTING/app2/react-crash-2021/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/Thia/Desktop/CLOUDCOMPUTING/app2/react-crash-2021/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"/Users/Thia/Desktop/CLOUDCOMPUTING/app2/react-crash-2021/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/Thia/Desktop/CLOUDCOMPUTING/app2/react-crash-2021/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/Thia/Desktop/CLOUDCOMPUTING/app2/react-crash-2021/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{BrowserRouter as Router,Route,Routes}from'react-router-dom';import Header from'./components/Header';import Footer from'./components/Footer';import Tasks from'./components/Tasks';import AddTask from'./components/AddTask';import About from'./components/About';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showAddTask=_useState2[0],setShowAddTask=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),tasks=_useState4[0],setTasks=_useState4[1];useEffect(function(){var getTasks=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var tasksFromServer;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetchTasks();case 2:tasksFromServer=_context.sent;setTasks(tasksFromServer);case 4:case\"end\":return _context.stop();}},_callee);}));return function getTasks(){return _ref.apply(this,arguments);};}();getTasks();},[]);// Fetch Tasks\nvar fetchTasks=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch('http://localhost:5000/tasks');case 2:res=_context2.sent;_context2.next=5;return res.json();case 5:data=_context2.sent;return _context2.abrupt(\"return\",data);case 7:case\"end\":return _context2.stop();}},_callee2);}));return function fetchTasks(){return _ref2.apply(this,arguments);};}();// Fetch Task\nvar fetchTask=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(id){var res,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(\"http://localhost:5000/tasks/\".concat(id));case 2:res=_context3.sent;_context3.next=5;return res.json();case 5:data=_context3.sent;return _context3.abrupt(\"return\",data);case 7:case\"end\":return _context3.stop();}},_callee3);}));return function fetchTask(_x){return _ref3.apply(this,arguments);};}();// Add Task\nvar addTask=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(task){var res,data;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch('http://localhost:5000/tasks',{method:'POST',headers:{'Content-type':'application/json'},body:JSON.stringify(task)});case 2:res=_context4.sent;_context4.next=5;return res.json();case 5:data=_context4.sent;setTasks([].concat(_toConsumableArray(tasks),[data]));// const id = Math.floor(Math.random() * 10000) + 1\n// const newTask = { id, ...task }\n// setTasks([...tasks, newTask])\ncase 7:case\"end\":return _context4.stop();}},_callee4);}));return function addTask(_x2){return _ref4.apply(this,arguments);};}();// Delete Task\nvar deleteTask=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(id){var res;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(\"http://localhost:5000/tasks/\".concat(id),{method:'DELETE'});case 2:res=_context5.sent;//We should control the response status to decide if we will change the state or not.\nres.status===200?setTasks(tasks.filter(function(task){return task.id!==id;})):alert('Error Deleting This Task');case 4:case\"end\":return _context5.stop();}},_callee5);}));return function deleteTask(_x3){return _ref5.apply(this,arguments);};}();// Toggle Reminder\nvar toggleReminder=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(id){var taskToToggle,updTask,res,data;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetchTask(id);case 2:taskToToggle=_context6.sent;updTask=_objectSpread(_objectSpread({},taskToToggle),{},{reminder:!taskToToggle.reminder});_context6.next=6;return fetch(\"http://localhost:5000/tasks/\".concat(id),{method:'PUT',headers:{'Content-type':'application/json'},body:JSON.stringify(updTask)});case 6:res=_context6.sent;_context6.next=9;return res.json();case 9:data=_context6.sent;setTasks(tasks.map(function(task){return task.id===id?_objectSpread(_objectSpread({},task),{},{reminder:data.reminder}):task;}));case 11:case\"end\":return _context6.stop();}},_callee6);}));return function toggleReminder(_x4){return _ref6.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Header,{onAdd:function onAdd(){return setShowAddTask(!showAddTask);},showAdd:showAddTask}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsxs(_Fragment,{children:[showAddTask&&/*#__PURE__*/_jsx(AddTask,{onAdd:addTask}),tasks.length>0?/*#__PURE__*/_jsx(Tasks,{tasks:tasks,onDelete:deleteTask,onToggle:toggleReminder}):'No Tasks To Show']})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})})]}),/*#__PURE__*/_jsx(Footer,{})]})});};export default App;","map":{"version":3,"names":["useState","useEffect","BrowserRouter","Router","Route","Routes","Header","Footer","Tasks","AddTask","About","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","App","_useState","_useState2","_slicedToArray","showAddTask","setShowAddTask","_useState3","_useState4","tasks","setTasks","getTasks","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","tasksFromServer","wrap","_callee$","_context","prev","next","fetchTasks","sent","stop","apply","arguments","_ref2","_callee2","res","data","_callee2$","_context2","fetch","json","abrupt","fetchTask","_ref3","_callee3","id","_callee3$","_context3","concat","_x","addTask","_ref4","_callee4","task","_callee4$","_context4","method","headers","body","JSON","stringify","_toConsumableArray","_x2","deleteTask","_ref5","_callee5","_callee5$","_context5","status","filter","alert","_x3","toggleReminder","_ref6","_callee6","taskToToggle","updTask","_callee6$","_context6","_objectSpread","reminder","map","_x4","children","className","onAdd","showAdd","path","element","length","onDelete","onToggle"],"sources":["/Users/Thia/Desktop/CLOUDCOMPUTING/app2/react-crash-2021/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport { BrowserRouter as Router, Route, Routes } from 'react-router-dom'\nimport Header from './components/Header'\nimport Footer from './components/Footer'\nimport Tasks from './components/Tasks'\nimport AddTask from './components/AddTask'\nimport About from './components/About'\n\nconst App = () => {\n  const [showAddTask, setShowAddTask] = useState(false)\n  const [tasks, setTasks] = useState([])\n\n  useEffect(() => {\n    const getTasks = async () => {\n      const tasksFromServer = await fetchTasks()\n      setTasks(tasksFromServer)\n    }\n\n    getTasks()\n  }, [])\n\n  // Fetch Tasks\n  const fetchTasks = async () => {\n    const res = await fetch('http://localhost:5000/tasks')\n    const data = await res.json()\n\n    return data\n  }\n\n  // Fetch Task\n  const fetchTask = async (id) => {\n    const res = await fetch(`http://localhost:5000/tasks/${id}`)\n    const data = await res.json()\n\n    return data\n  }\n\n  // Add Task\n  const addTask = async (task) => {\n    const res = await fetch('http://localhost:5000/tasks', {\n      method: 'POST',\n      headers: {\n        'Content-type': 'application/json',\n      },\n      body: JSON.stringify(task),\n    })\n\n    const data = await res.json()\n\n    setTasks([...tasks, data])\n\n    // const id = Math.floor(Math.random() * 10000) + 1\n    // const newTask = { id, ...task }\n    // setTasks([...tasks, newTask])\n  }\n\n  // Delete Task\n  const deleteTask = async (id) => {\n    const res = await fetch(`http://localhost:5000/tasks/${id}`, {\n      method: 'DELETE',\n    })\n    //We should control the response status to decide if we will change the state or not.\n    res.status === 200\n      ? setTasks(tasks.filter((task) => task.id !== id))\n      : alert('Error Deleting This Task')\n  }\n\n  // Toggle Reminder\n  const toggleReminder = async (id) => {\n    const taskToToggle = await fetchTask(id)\n    const updTask = { ...taskToToggle, reminder: !taskToToggle.reminder }\n\n    const res = await fetch(`http://localhost:5000/tasks/${id}`, {\n      method: 'PUT',\n      headers: {\n        'Content-type': 'application/json',\n      },\n      body: JSON.stringify(updTask),\n    })\n\n    const data = await res.json()\n\n    setTasks(\n      tasks.map((task) =>\n        task.id === id ? { ...task, reminder: data.reminder } : task\n      )\n    )\n  }\n\n  return (\n    <Router>\n      <div className='container'>\n        <Header\n          onAdd={() => setShowAddTask(!showAddTask)}\n          showAdd={showAddTask}\n        />\n        <Routes>\n          <Route\n            path='/'\n            element={\n              <>\n                {showAddTask && <AddTask onAdd={addTask} />}\n                {tasks.length > 0 ? (\n                  <Tasks\n                    tasks={tasks}\n                    onDelete={deleteTask}\n                    onToggle={toggleReminder}\n                  />\n                ) : (\n                  'No Tasks To Show'\n                )}\n              </>\n            }\n          />\n          <Route path='/about' element={<About />} />\n        </Routes>\n        <Footer />\n      </div>\n    </Router>\n  )\n}\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}